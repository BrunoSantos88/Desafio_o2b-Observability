groups:
 - name: Count greater than 5
   rules:
   - alert: CountGreaterThan5
     expr: ping_request_count > 5
<<<<<<< HEAD
     for: 5s
=======
     for: 10s

   #Disk
   - alert: LowDiskSpace
     expr: node_filesystem_free{fstype="ext4"} < 1e9
     for: 5s
     labels:
        severity: critical
     annotations:
       summary: Low disk space on host {{ $labels.instance}}
       description: The free disk space on host {{
          $labels.instance }} has dropped below 1G

   #Http erro 500
   - alert: HighRequestErrorRate
     expr: (sum(rate(http_requests_total{status="500"}[5s])) /sum(rate(http_requests_total[5s]))) > 0.05
     for: 5s
     labels:
        severity: critical
     annotations:
        summary: High request error rate
        description: The error rate for HTTP requests has exceeded
          5% for 5 seconds.

  ### Trafic Network
   - alert: HighNetworkTraffic
     expr: node_network_receive_bytes > 100e6
     for: 5s
     labels:
        severity: warning
     annotations:
        summary: High network traffic on host {{ $labels.instance }}
        description: The inbound network traffic on host {{$labels.instance }} has exceeded 100 MB/s for 5 seconds

 #docker Services
  
   -  alert: CadvisorContainerDown
      expr: up{job="cadvisor"} == 0
      labels:
         severity: 'critical'
      annotations:
         summary: 'Alert: Cadvisor container is down'
         description: 'The Cadvisor container is down or not responding.'

   -  alert: PromethesContainerDown
      expr: up{job="promethues"} == 0
      labels:
         severity: 'critical'
      annotations:
         summary: 'Alert: Prometheus container is down'
         description: 'The Prometheus container is down or not responding.'
   
   -  alert: python_serverContainerDown
      expr: up{job="python_server"} == 0
      labels:
         severity: 'critical'
      annotations:
         summary: 'Alert: python_server container is down'
         description: 'The python_server container is down or not responding.'

   -  alert: NodeContainerDown
      expr: up{job="node"} == 0
      labels:
         severity: 'critical'
      annotations:
         summary: 'Alert: node exported container is down'
         description: 'The node exported is down or not responding.'
>>>>>>> 1a18f5cb8948eaf7682c308b1a5ec61bb3fcbd29
